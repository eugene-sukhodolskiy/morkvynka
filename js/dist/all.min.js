function refreshCartBtnByRemoveBtn(){document.querySelectorAll(".product-remove .remove").forEach(e=>e.addEventListener("click",e=>setTimeout(()=>{refreshCartBtnByRemoveBtn(),cart_btn_control()},2e3)))}function cart_btn_control(){jQuery.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:{action:"get_cart_contents"},success:function(e){var e="object"==typeof(e=JSON.parse(e))?Object.keys(e).length:0,t=document.querySelector(".go-cart-btn");e?(t.querySelector(".counter").innerHTML=9<e?"9+":e,t.classList.add("show")):t.classList.remove("show")},error:function(e){console.log(e)}})}document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll(".dropdown-toggle.nav-link").forEach(e=>{e.addEventListener("click",e=>{const t=e.currentTarget.parentNode.querySelector("ul.dropdown-menu");setTimeout(()=>{t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")},50)})}),document.addEventListener("click",e=>document.querySelectorAll(".dropdown-menu.show").forEach(e=>e.classList.remove("show"))),document.querySelectorAll('[data-toggle="dropdown"]').forEach(e=>e.addEventListener("click",e=>e.preventDefault())),jQuery(".add-to-cart").click(function(e){e.preventDefault();var r=jQuery(this).data("product_id");const a=this;let t={action:"woocommerce_add_to_cart",product_id:r};if(a.classList.contains("already"))return!1;a.classList.add("already"),jQuery.ajax({url:wc_add_to_cart_params.ajax_url,type:"POST",data:t,success:function(e){var t=document.createElement("DIV"),e=(t.innerHTML=e.fragments["div.widget_shopping_cart_content"],t.querySelector("a[data-cart_item_key]").getAttribute("data-cart_item_key"));jQuery(a).attr("data-cart_item_key",e),console.log(r+" was added to cart"),cart_btn_control()},error:function(e){a.classList.contains("already")?a.classList.remove("already"):a.classList.add("already"),console.error(`ID${r} Operation err`)}})}),refreshCartBtnByRemoveBtn(),cart_btn_control()});
//# sourceMappingURL=all.min.js.map
